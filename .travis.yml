env:
  global:
  - secure: f3Uri42gxqeIdrLlv5EXRaUKAxpDeo8/e2dK9891aLtziJsepch1T9k663KzTXRT6yBo/aW179ULK5/i4cVA13uNDiv2pU/mVWjFlz4/Jjy8L2qjw4XBG0DCEnLvwk9H9wY0qIevKjY95CoytDV0xke4eAaNqAc6afbK8S35i6wslzS0ENHCuKiK6WcYL/dACybSfZI/sVRLRd7KrBRJauyhje2G3fAHsIqgh42D3xKtl4wev2rY0DDz/ZjYbp3qQxtUZ9fGUtKKRV4bUElQxxbRy4yzaRj97wXaEgtC5V3UoR+bnZXKy/r3v/9WTMXTvc+RqqzdGAkooNfY2zLczQ/zyrmZWL/aO41r7YqUFLORHKIr5kK1y8TpcrQC/vF7eAfOGJU+AFhq7p5xKTHLKrFN1gA/qTM9QkE8sLxkeClxStvFdmfEuM6Vfy/wx5OXE/6w0lohQz5aSf5VrGneKaFvHbUll5HcyspB8dtHh1iobSfJijw80Nim5CptmbScfRgaXKOw5WbYDlVbM8elKelOnSDBJE4PB7tvBRZ68tsToj3LHes++w6P1Lg4nBUNweLMFTzaWZLILRmwN3Y3I1mY3QlClfh3l6eSvlNj8v6f9M2EbuZfWVjMQVtx1Ki+gJx7OuuCdctBNzB1iidycXnCQ6d1+2amRY1ns9ZavdI=
language: python
python:
- '3.8'
before_script:
- cp contrib/env-sample .env
- pip install pip -U
- pip install -r requirements.txt
- pip install coverage
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
deploy:
  provider: heroku
  api_key:
    secure: wZWfFroLk9IkiRif+UL/+brDe8iU+NsRTZIqXYQK3bp0kUEmfhpwYeRQabDTChbpR/k9oqrV86+y2oejvay5jOUNn9fnbtBWftfhSJejzOzQ+XstWA5TobyHAMWzifqkjO+G28JKWqcN58YtlMUadlAYD9Ln/tUdeGm4u5+nDDoqt0WG+zrL7SlzgKRYD6dgE46xST8DR0MX2TM66ZHU/22ohY+RWtC+ZndnvP36BKu7qITxQEskGnfAQOr5SPcvvEpO9Z6OnmDeOHm+/yZJFc06uowTQSZnJkFY04SbHwxvGwcY6qgEj/q4/wYX2tVN/D3qFkgHSVGS4K9BZ4o8s95flv78B5I7SYjQ0XhGWzOiZa8cq1h1dIHCpcrwlbQ2U5RStIxJVf51IB8k7Ed4cpPo3XOdZQTDj+IcVgi7HJcap+8N8FbaJJnRmwkibnyX/5oqjUEgDuHcFkVhDPbxh2GtKQReXu4SeUle33ktOYtMIWhSkxW7isOnfnG+VaE+l6L7koS1BaUGATb8LgNir4GRdHMcYRGreWwYYqmLlo0lnhSe+MlI7ZCT+5m1cjpR40BYtlfwYD8D/93n5GC0XrQl3tlvhrRTFVYwuSpuDoo/TxnzW5FtOuCUGL8l4IUrlfD8VKHM+tYKQq6KoGsTPuvxHr4so3Q+30tuJx+k4Og=
  app: carlos-moreno-logs-system
  on:
    repo: carlos-moreno/logs-system
